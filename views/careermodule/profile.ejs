<!DOCTYPE html>
<html lang="en">

<head>
  <title>Profile page</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />

  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto" rel="stylesheet">

  <script src="https://kit.fontawesome.com/2635296004.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="/css/Homemodule/style_hh.css" />
  <link rel="stylesheet" href="/css/Librarymodule/library.css" />
  <link rel="stylesheet" href="/css/BottomNavmodule/bottomnavbar.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
    crossorigin="anonymous"></script>
  <script src="https://code.iconify.design/1/1.0.6/iconify.min.js"></script>

  <link rel="stylesheet" href="/css/Careermodule/profile.css" />


</head>

<body>
  <div class="container" style="margin-top: 10px; margin-bottom: 5px; text-align: center">
    <div class="row">
      <div class="col-3">
        <div class="head">
          <div id="backdiv">
            <span class="iconify back" data-inline="false" data-icon="eva:arrow-back-outline" style="font-size: 30px;"
              onclick="window.location.href='/'"></span>

          </div>
        </div>
      </div>
      <div class="col-6" style="text-align: center">
        <img src="<%= userDetails.profilePic %>" class="p1" />
        <h6 class="n1">
          <%= userDetails.name ? userDetails.name : 'null' %>
        </h6>
        <p class="n2">
          <%= userDetails.username %>
        </p>
        <p class="n2">
          <%= userDetails.city ? userDetails.city : 'null' %>
        </p>
      </div>
    </div>
  </div>

  <div class="bell-settings">
    <div class="settings"><span class="iconify" data-inline="false" data-icon="akar-icons:gear" style="font-size: 25px;"
        onclick="settingsClick(this)"></span>
    </div>
    <div class="bell">
      <span class="iconify" data-inline="false" data-icon="ic:outline-notifications" style="font-size: 27px;"
        onclick="bellClick(this)"></span>
    </div>
  </div>
  <div>
    <div class="row">
      <div class="col-6" style="text-align: right">
        <button class="btn btn-dark sub" onclick="careerClick(this)">
          <p class="fol">Career</p>
        </button>
      </div>
      <div class="col-6">
        <div class="col-6" style="text-align: left">
          <button class="btn btn-dark sub" onclick="editClick(this)">
            <p class="fol">Edit Profile</p>
          </button>
        </div>
      </div>
    </div>
  </div>
  <div class="container" style="margin-top: 30px; margin-bottom: 5px">
    <div class="row" style="padding: 0px 1rem;">
      <div class="col pp">
        <h6 class="rp2"><%= userDetails.followers.length %> </h6>
        <p class="rp1">Followers</p>
      </div>
      <div class="col pp">
        <h6 class="rp2"><%= userDetails.following.length %></h6>
        <p class="rp1">Following</p>
      </div>
      <div class="col pp">
        <h6 class="rp2"><%= videosArray.length %></h6>
        <p class="rp1">Videos</p>
      </div>
      <div class="col pp">
        <h6 class="rp2"><%= userDetails.wonClashes.length %></h6>
        <p class="rp1">Clash Won</p>
      </div>
    </div>
  </div>
  <div class="container video-body">
    <div class="post-container">
      <div>
        <h4 id="posts">Posts</h4>
      </div>
      <div>
        <a href="/career/post?page=1&size=10" style="text-decoration: none;" class="a1" onclick="seeAll(this)">
          See All&nbsp;&nbsp;<i class="fas fa-angle-right"></i> 
        </a>
      </div>
    </div>
    <% videosArray.forEach(video => { %>
      <div class="video-container">
        <div style="display: flex; justify-content:center;">
          <div style="width: fit-content; margin-bottom: 2rem;">
            <video width="400px" class="myvideo" onclick="viewInFullScreen(this)" muted autoplay loop>
              <source src="/video/<%= video._id %>" type="video/mp4">
            </video>

            <div style="
              position: absolute;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -100%);
            "></div>

            <div style="
              position: absolute;
              top: 10px;
              left: 20px;
              font-size: 0.8rem;
              color: white;
            "> Rank 12/20 </div>

            <div style="
              position: absolute;
              top: 10px;
              right: 30px;
              font-size: 0.8rem;
              color: white;
            "> 1:20 </div>
            <div class="bottom-info">
              <div style="
                position: absolute;
                bottom: 200px;
                left: 30px;
                font-size: 0.9rem;
                color: white;
              "> 2h ago </div>

              <div style="
                position: absolute;
                bottom: 160px;
                left: 30px;
                font-size: 1.7rem;
                font-weight: bolder;
                font-family: Roboto;
                background: linear-gradient( 
                90deg,
                #924bec 0%,
                #e552c4 35%, 
                #ffbf7b 100% );
                -webkit-background-clip: text;
                background-clip: text;
                -webkit-text-fill-color: transparent;
              "> Piano Challenge </div>
              <div style="
                position: absolute;
                bottom: 140px;
                left: 30px;
                font-size: 0.8rem;
                color: white;
              "> Started by John doe </div>
              <div style="
                position: absolute;
                bottom: 90px;
                left: 30px;
                right: 30px;
                display: flex;
                font-size: 0.8rem;
                justify-content: space-between;
                color: white;
              ">
              <div><%= video.likes.length %>  Likes</div>
              <div><%= video.dislikes.length %> Comments</div>
              <div>20 Participants</div>
            </div>

          </div>
        </div>
      </div>
    <% }) %> 

    <%- include("../BottomNavmodule/bottomnavbar") %>
</body>
<script src="/js/Careermodule/profile.js" type="text/javascript"></script>

</html>